'use client';

import { useEffect } from 'react';
import { useTheme } from '@/context/ThemeContext';
import styles from './quiz-page-title.module.css';
import { useLanguage } from '@/context/LanguageContext';
import { getLastNameOrSingle, capitalize } from '@/utils/textUtils';
import { ComponentStateProps } from '@/hooks/use-component-state';

export default function QuizPageTitle({ onStateChange }: ComponentStateProps) {
  const { theme } = useTheme();
  const { t } = useLanguage();

  // âœ… After
  useEffect(() => {
    onStateChange?.("data");
  }, []);

  // Click event handlers for icons
  const handleInfoClick = () => {
    console.log('Info icon clicked');
    // Add your info icon functionality here
  };

  const handleAddClick = () => {
    console.log('Add icon clicked');
    // Add your add icon functionality here
  };

  const handleSearchClick = () => {
    console.log('Search icon clicked');
    // Add your search icon functionality here
  };

  return (
    <div className={`${styles.mainSection} ${styles[`mainSection_${theme}`]}`}>
      <div className={`${styles.titleSection} ${styles[`titleSection_${theme}`]}`}>
        <h1 className={`${styles.titleTop} ${styles[`titleTop_${theme}`]}`}>
          {t('explore_text')}
        </h1>
        <p className={`${styles.titleBot} ${styles[`titleBot_${theme}`]}`}>
          {t('curated_quizzes')}
        </p>
      </div>

      <div className={styles.infoIcon}>
        <button
          className={`${styles.svgSection} ${styles[`svgSection_${theme}`]} ${styles.iconButton}`}
          onClick={handleInfoClick}
          aria-label="Information"
        >
          <svg fill="none" height="23" viewBox="0 0 24 23" width="24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.7898 0.0239615C10.9391 -0.0900544 9.08569 0.203904 7.37582 0.88264C5.66312 1.56162 4.14117 2.60795 2.93042 3.93881C1.71545 5.27218 0.842557 6.85253 0.37972 8.55681C-0.0831179 10.2611 -0.123415 12.0433 0.261965 13.7647C0.64436 15.4856 1.44274 17.0997 2.59471 18.4808C3.74391 19.8596 5.21594 20.9677 6.89507 21.718C8.57136 22.4679 10.4094 22.8387 12.2636 22.8011C14.1178 22.7635 15.9373 22.3185 17.578 21.5015C17.6306 21.4761 17.6894 21.4643 17.7483 21.4674C17.8073 21.4704 17.8644 21.4881 17.9137 21.5187C19.4718 22.5046 21.3097 23.0209 23.1847 22.9994C23.229 22.9996 23.2729 22.9915 23.3139 22.9756C23.3549 22.9598 23.3921 22.9363 23.4234 22.9067C23.4547 22.8771 23.4795 22.842 23.4964 22.8032C23.5132 22.7645 23.5217 22.723 23.5214 22.6812V18.8114C23.5219 18.7358 23.4941 18.6625 23.4429 18.6044C23.3916 18.5463 23.3203 18.5073 23.2415 18.4942C22.8558 18.4361 22.479 18.3334 22.1198 18.1885C22.0528 18.1601 21.9976 18.1117 21.9626 18.0507C21.9276 17.9898 21.9147 17.9196 21.9261 17.8511C21.9319 17.8054 21.9493 17.7617 21.9768 17.7237C23.1483 16.0575 23.8371 14.1302 23.9745 12.1341C24.1119 10.1379 23.693 8.14263 22.7598 6.34713C21.8289 4.55435 20.415 3.02469 18.6602 1.9119C16.9096 0.801584 14.8795 0.147982 12.7756 0.0172531L12.7898 0.0239615ZM4.74083 11.4024C4.73975 10.0373 5.16487 8.70216 5.96299 7.56423C6.76023 6.43006 7.89476 5.5441 9.22376 5.0179C10.5521 4.49286 12.0161 4.35449 13.4282 4.62049C14.8404 4.8865 16.1363 5.54478 17.15 6.51101C18.1672 7.47997 18.8594 8.71088 19.1399 10.0497C19.4204 11.3885 19.2769 12.7758 18.7272 14.0379C18.1773 15.2985 17.2445 16.377 16.0465 17.1371C14.6488 18.0223 12.9689 18.4207 11.2945 18.264C9.62016 18.1074 8.05553 17.4054 6.8687 16.2785C5.50474 14.9823 4.7381 13.2293 4.73576 11.4014L4.74083 11.4024Z"
              fill="currentColor" />
          </svg>
        </button>

        <button
          className={`${styles.svgSection} ${styles[`svgSection_${theme}`]} ${styles.iconButton}`}
          onClick={handleAddClick}
          aria-label="Add quiz"
        >
          <svg fill="none" height="22" viewBox="0 0 22 22" width="22" xmlns="http://www.w3.org/2000/svg">
            <path clipRule="evenodd" d="M4.77514 0.342973C8.91238 -0.114324 13.0875 -0.114324 17.2248 0.342973C19.5155 0.599286 21.3635 2.40015 21.6323 4.69496C22.1226 8.88407 22.1226 13.1159 21.6323 17.305C21.3635 19.5998 19.5155 21.4007 17.2248 21.657C13.0875 22.1143 8.91238 22.1143 4.77514 21.657C2.48446 21.4007 0.636401 19.5998 0.367617 17.305C-0.122539 13.1164 -0.122539 8.88497 0.367617 4.69629C0.503571 3.58143 1.01267 2.54506 1.81241 1.75516C2.61215 0.965259 3.65565 0.468118 4.7738 0.344308M11 4.33452C11.266 4.33452 11.5211 4.44 11.7091 4.62777C11.8972 4.81554 12.0029 5.0702 12.0029 5.33574V9.99878H16.6738C16.9398 9.99878 17.1949 10.1043 17.383 10.292C17.5711 10.4798 17.6768 10.7345 17.6768 11C17.6768 11.2655 17.5711 11.5202 17.383 11.708C17.1949 11.8957 16.9398 12.0012 16.6738 12.0012H12.0029V16.6643C12.0029 16.9298 11.8972 17.1845 11.7091 17.3722C11.5211 17.56 11.266 17.6655 11 17.6655C10.734 17.6655 10.4789 17.56 10.2908 17.3722C10.1027 17.1845 9.99704 16.9298 9.99704 16.6643V12.0012H5.32608C5.06009 12.0012 4.80499 11.8957 4.6169 11.708C4.42882 11.5202 4.32315 11.2655 4.32315 11C4.32315 10.7345 4.42882 10.4798 4.6169 10.292C4.80499 10.1043 5.06009 9.99878 5.32608 9.99878H9.99704V5.33574C9.99704 5.0702 10.1027 4.81554 10.2908 4.62777C10.4789 4.44 10.734 4.33452 11 4.33452Z"
              fill="currentColor"
              fillRule="evenodd" />
          </svg>
        </button>

        <button
          className={`${styles.svgSection} ${styles[`svgSection_${theme}`]} ${styles.iconButton}`}
          onClick={handleSearchClick}
          aria-label="Search"
        >
          <svg fill="none" height="22" viewBox="0 0 22 22" width="22" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M11 0C4.93453 0 0 4.93453 0 11C0 17.0655 4.93453 22 11 22C17.0655 22 22 17.0655 22 11C22 4.93453 17.0655 0 11 0ZM15.5833 16.8798L12.481 13.7775C11.4441 14.491 10.178 14.7913 8.93113 14.6193C7.68426 14.4474 6.54665 13.8157 5.74154 12.8483C4.93643 11.8808 4.52193 10.6473 4.5794 9.38999C4.63686 8.13264 5.16214 6.94216 6.05215 6.05215C6.94216 5.16214 8.13264 4.63686 9.38999 4.5794C10.6473 4.52193 11.8808 4.93643 12.8483 5.74154C13.8157 6.54665 14.4474 7.68426 14.6193 8.93113C14.7913 10.178 14.491 11.4441 13.7775 12.481L16.8798 15.5833L15.5833 16.8798Z"
              fill="currentColor" />
            <path
              d="M9.62533 12.8333C11.3972 12.8333 12.8337 11.3969 12.8337 9.62496C12.8337 7.85305 11.3972 6.41663 9.62533 6.41663C7.85341 6.41663 6.41699 7.85305 6.41699 9.62496C6.41699 11.3969 7.85341 12.8333 9.62533 12.8333Z"
              fill="currentColor" />
          </svg>
        </button>
      </div>
    </div>
  );
}